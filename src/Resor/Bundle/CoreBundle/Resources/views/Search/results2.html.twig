{% extends '::base.html.twig' %}

{% block title %}Resor{% endblock %}

{% block stylesheets %}
    {% stylesheets
        '@ResorCoreBundle/Resources/public/css/general.css'
        '@ResorCoreBundle/Resources/public/css/results.css'
        '@ResorCoreBundle/Resources/public/js/vendor/pikaday/css/pikaday.css'
    %}
        <link rel="stylesheet" href="{{ asset_url }}"/>
    {% endstylesheets %}
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
{% endblock %}

{% block headjs %}
    <script type="text/javascript" src="//maps.google.com/maps/api/js?libraries=places&sensor=true"></script>
    {% javascripts
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block javascripts %}
    {% javascripts
        '@ResorCoreBundle/Resources/public/js/vendor/jquery/dist/jquery.js'
        '@ResorCoreBundle/Resources/public/js/results.js'
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block body %}
    <div id="main" ng-app="resultsApp">
        <div class="result-page">
            <div class="map-wrapper" ng-controller="MapCtrl">
                <ui-gmap-google-map center='map.center' zoom='map.zoom'>
                    <ui-gmap-markers models="markers.data" coords="'self'" events="markerEvents">
                    </ui-gmap-markers>
                </ui-gmap-google-map>
            </div>
            <div class="content" >
                <div class="filters-bar">
                    <ul class="filters">
                        <div class="primary-filters">
                            <li class="filter-place filter">
                                <placeinput place="searchParams.place"></placeinput>
                            </li>
                            <li class="filter-from filter">
                                <editabledatepicker date="searchParams.from" time="start"></editabledatepicker>
                            </li>
                            <li class="filter-to filter">
                                <editabledatepicker date="searchParams.to" time="end"></editabledatepicker>
                            </li>
                        </div>
                        <div class="filter filters-expand">
                            <strong ng-click="displayFilters = !displayFilters">
                                Filtres  <i class="fa fa-caret-down"></i>
                            </strong>
                        </div>
                    </ul>
                </div>
                <div class="results-body">
                    <ul class="results" id="results">

                    </ul>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
